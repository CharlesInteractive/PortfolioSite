!function(e){function r(t){if(a[t])return a[t].exports;var n=a[t]={exports:{},id:t,loaded:!1};return e[t].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var a={};r.m=e,r.c=a,r.p="",r(0)}([function(t,n,e){function u(t,n,e){var r=n.from||i(t,n.property);return AFRAME.utils.extend({},e,{targets:[{aframeProperty:r}],aframeProperty:n.to,update:function(){o(t,n.property,this.targets[0].aframeProperty)}})}function s(t,n,e){var r=i(t,n.property);n.from&&(r=AFRAME.utils.coordinates.parse(n.from));var a=AFRAME.utils.coordinates.parse(n.to);return AFRAME.utils.extend({},e,{targets:[r],update:function(){o(t,n.property,this.targets[0])}},a)}function c(t,n){var e=n.split("."),r=e[0],a=e[1],i=t.components[r]||AFRAME.components[r];return i?a?i.schema[a].type:i.schema.type:null}var f=e(1);if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var r=AFRAME.utils,i=r.entity.getComponentProperty,o=r.entity.setComponentProperty;r.styleParser.parse,AFRAME.registerComponent("animation",{schema:{delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},from:{default:""},loop:{default:!1},property:{default:""},repeat:{default:0},startEvents:{type:"array"},pauseEvents:{type:"array"},to:{default:""}},multiple:!0,init:function(){this.animation=null,this.animationIsPlaying=!1,this.config=null,this.playAnimationBound=this.playAnimation.bind(this),this.pauseAnimationBound=this.pauseAnimation.bind(this),this.repeat=0},update:function(){var t=this.attrName,n=this.data,e=this.el,r=c(e,n.property),a=this;this.repeat=n.repeat;var i={autoplay:!1,begin:function(){e.emit("animation-begin"),e.emit(t+"-begin")},complete:function(){e.emit("animation-complete"),e.emit(t+"-complete"),0<--a.repeat&&a.animation.play()},direction:n.dir,duration:n.dur,easing:n.easing,elasticity:n.elasticity,loop:n.loop},o=u;"vec2"!==r&&"vec3"!==r&&"vec4"!==r||(o=s),this.pauseAnimation(),this.config=o(e,n,i),this.animation=f(this.config),this.data.startEvents.length||(this.animationIsPlaying=!0),this.removeEventListeners(),this.addEventListeners()},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.pauseAnimation(),this.removeEventListeners()},play:function(){this.animation&&this.animationIsPlaying&&(this.playAnimation(),this.addEventListeners())},addEventListeners:function(){var n=this,t=this.data,e=this.el;t.startEvents.map(function(t){e.addEventListener(t,n.playAnimationBound)}),t.pauseEvents.map(function(t){e.addEventListener(t,n.pauseAnimationBound)})},removeEventListeners:function(){var n=this,t=this.data,e=this.el;t.startEvents.map(function(t){e.removeEventListener(t,n.playAnimationBound)}),t.pauseEvents.map(function(t){e.removeEventListener(t,n.pauseAnimationBound)})},playAnimation:function(){this.animation&&(this.animation.restart(),this.animationIsPlaying=!0)},pauseAnimation:function(){this.animation&&(this.animation.pause(),this.animationIsPlaying=!1)}})},function(t,n,e){var r,a,i,o,u;o=this,a=[],void 0===(i="function"==typeof(r=u=function(){var l,t="1.1.0",i={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutElastic",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},e=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY"],p="transform",c={array:function(t){return Array.isArray(t)},object:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||c.svg(t)},number:function(t){return!isNaN(parseInt(t))},string:function(t){return"string"==typeof t},func:function(t){return"function"==typeof t},undef:function(t){return void 0===t},null:function(t){return"null"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},rgba:function(t){return/^rgba/.test(t)},hsl:function(t){return/^hsl/.test(t)},color:function(t){return c.hex(t)||c.rgb(t)||c.rgba(t)||c.hsl(t)}},u=(_={},nt={Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t,n){if(0===t||1===t)return t;var e=1-Math.min(n,998)/1e3,r,a=t/1-1,i=e/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*a)*Math.sin((a-i)*(2*Math.PI)/e)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var n,e=4;t<((n=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*n-2)/22-t,2)}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(t,n){nt[t]=function(t){return Math.pow(t,n+2)}}),Object.keys(nt).forEach(function(t){var e=nt[t];_["easeIn"+t]=e,_["easeOut"+t]=function(t,n){return 1-e(1-t,n)},_["easeInOut"+t]=function(t,n){return t<.5?e(2*t,n)/2:1-e(-2*t+2,n)/2}}),_.linear=function(t){return t},_),r=function(t){return c.string(t)?t:t+""},a=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},o=function(t){if(c.color(t))return!1;try{var n;return document.querySelectorAll(t)}catch(t){return!1}},n=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},s=function(t){return t.reduce(function(t,n){return t.concat(c.array(n)?s(n):n)},[])},f=function(t){return c.array(t)?t:(c.string(t)&&(t=o(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])},m=function(t,n){return t.some(function(t){return t===n})},d=function(t,e){var r={};return t.forEach(function(n){var t=JSON.stringify(e.map(function(t){return n[t]}));r[t]=r[t]||[],r[t].push(n)}),Object.keys(r).map(function(t){return r[t]})},h=function(t){return t.filter(function(t,n,e){return e.indexOf(t)===n})},v=function(t){var n={};for(var e in t)n[e]=t[e];return n},g=function(t,n){for(var e in n)t[e]=c.undef(t[e])?n[e]:t[e];return t},y=function(t){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,t=t.replace(n,function(t,n,e,r){return n+n+e+e+r+r}),e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),r,a,i;return"rgb("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+")"},b=function(t){var n,e,r,t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=parseInt(t[1])/360,i=parseInt(t[2])/100,o=parseInt(t[3])/100,u=function(t,n,e){return e<0&&(e+=1),1<e&&(e-=1),e<1/6?t+6*(n-t)*e:e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t};if(0==i)n=e=r=o;else{var s=o<.5?o*(1+i):o+i-o*i,c=2*o-s;n=u(c,s,a+1/3),e=u(c,s,a),r=u(c,s,a-1/3)}return"rgb("+255*n+","+255*e+","+255*r+")"},A=function(t){return c.rgb(t)||c.rgba(t)?t:c.hex(t)?y(t):c.hsl(t)?b(t):void 0},E=function(t){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(t)[2]},M=function(t,n,e){return E(n)?n:-1<t.indexOf("translate")?E(e)?n+E(e):n+"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?n+"deg":n},x=function(t,n){if(n in t.style)return getComputedStyle(t).getPropertyValue(a(n))||"0"},w=function(t,e){var n=-1<e.indexOf("scale")?1:0,r=t.style.transform;if(!r)return n;for(var a=/(\w+)\((.+?)\)/g,i=[],o=[],u=[];i=a.exec(r);)o.push(i[1]),u.push(i[2]);var s=u.filter(function(t,n){return o[n]===e});return s.length?s[0]:n},I=function(t,n){return c.dom(t)&&m(e,n)?"transform":c.dom(t)&&"transform"!==n&&x(t,n)?"css":c.dom(t)&&(t.getAttribute(n)||c.svg(t)&&t[n])?"attribute":c.null(t[n])||c.undef(t[n])?void 0:"object"},P=function(t,n){switch(I(t,n)){case"transform":return w(t,n);case"css":return x(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0},L=function(t,n,e){if(c.color(n))return A(n);if(E(n))return n;var r=E(E(t.to)?t.to:t.from);return!r&&e&&(r=E(e)),r?n+r:n},O=function(t){var n=/-?\d*\.?\d+/g;return{original:t,numbers:r(t).match(n)?r(t).match(n).map(Number):[0],strings:r(t).split(n)}},k=function(r,t,a){return t.reduce(function(t,n,e){var n=n||a[e-1];return t+r[e-1]+n})},F=function(t){var t;return(t=t?s(c.array(t)?t.map(f):f(t)):[]).map(function(t,n){return{target:t,id:n}})},j=function(t,n){var e=[];for(var r in t)if(!i.hasOwnProperty(r)&&"targets"!==r){var a=c.object(t[r])?v(t[r]):{value:t[r]};a.name=r,e.push(g(a,n))}return e},C=function(t,n,e,r){var a=f(c.func(e)?e(t,r):e);return{from:1<a.length?a[0]:P(t,n),to:1<a.length?a[1]:a[0]}},R=function(t,n,e,r){var a={};if("transform"===e)a.from=t+"("+M(t,n.from,n.to)+")",a.to=t+"("+M(t,n.to)+")";else{var i="css"===e?x(r,t):void 0;a.from=L(n,n.from,i),a.to=L(n,n.to,i)}return{from:O(a.from),to:O(a.to)}},B=function(u,t){var s=[];return u.forEach(function(a,i){var o=a.target;return t.forEach(function(t){var n=I(o,t.name);if(n){var e=C(o,t.name,t.value,i),r=v(t);r.animatables=a,r.type=n,r.from=R(t.name,e,r.type,o).from,r.to=R(t.name,e,r.type,o).to,r.round=c.color(e.from)||r.round?1:0,r.delay=(c.func(r.delay)?r.delay(o,i,u.length):r.delay)/J.speed,r.duration=(c.func(r.duration)?r.duration(o,i,u.length):r.duration)/J.speed,s.push(r)}})}),s},N=function(t,n){var e=B(t,n),r;return d(e,["name","from","to","delay","duration"]).map(function(t){var n=v(t[0]);return n.animatables=t.map(function(t){return t.animatables}),n.totalDuration=n.delay+n.duration,n})},S=function(a,i){a.tweens.forEach(function(t){var n=t.to,e=t.from,r=a.duration-(t.delay+t.duration);t.from=n,t.to=e,i&&(t.delay=r)}),a.reversed=!a.reversed},T=function(t){if(t.length)return Math.max.apply(Math,t.map(function(t){return t.totalDuration}))},$=function(t){var n=[],e=[];return t.tweens.forEach(function(t){"css"!==t.type&&"transform"!==t.type||(n.push("css"===t.type?a(t.name):"transform"),t.animatables.forEach(function(t){e.push(t.target)}))}),{properties:h(n).join(", "),elements:h(e)}},V=function(t){var n=$(t);n.elements.forEach(function(t){t.style.willChange=n.properties})},X=function(t){var n;$(t).elements.forEach(function(t){t.style.removeProperty("will-change")})},Y=function(t){var n=c.string(t)?o(t)[0]:t;return{path:n,value:n.getTotalLength()}},Q=function(r,a){var i=r.path,o=r.value*a,t=function(t){var n=t||0,e=1<a?r.value+n:o+n;return i.getPointAtLength(e)},n=t(),e=t(-1),u=t(1);switch(r.name){case"translateX":return n.x;case"translateY":return n.y;case"rotate":return 180*Math.atan2(u.y-e.y,u.x-e.x)/Math.PI}},Z=function(i,t){var n,o=Math.min(Math.max(t-i.delay,0),i.duration)/i.duration,e=i.to.numbers.map(function(t,n){var e=i.from.numbers[n],r=u[i.easing](o,i.elasticity),a=i.path?Q(i,r):e+r*(t-e);return a=i.round?Math.round(a*i.round)/i.round:a});return k(e,i.to.strings,i.from.strings)},q=function(t,n){var e;t.currentTime=n,t.progress=n/t.duration*100;for(var r=0;r<t.tweens.length;r++){var a=t.tweens[r];a.currentValue=Z(a,n);for(var i=a.currentValue,o=0;o<a.animatables.length;o++){var u=a.animatables[o],s=u.id,c=u.target,f=a.name;switch(a.type){case"css":c.style[f]=i;break;case"attribute":c.setAttribute(f,i);break;case"object":c[f]=i;break;case"transform":e||(e={}),e[s]||(e[s]=[]),e[s].push(i)}}}if(e)for(var r in l||(l=(x(document.body,p)?"":"-webkit-")+p),e)t.animatables[r].target.style[l]=e[r].join(" ");t.settings.update&&t.settings.update(t)},D=function(t){var n={};return n.animatables=F(t.targets),n.settings=g(t,i),n.properties=j(t,n.settings),n.tweens=N(n.animatables,n.properties),n.duration=T(n.tweens)||t.duration,n.currentTime=0,n.progress=0,n.ended=!1,n},z=[],G=0,H=(U=function(){G=requestAnimationFrame(W)},W=function(t){if(z.length){for(var n=0;n<z.length;n++)z[n].tick(t);U()}else cancelAnimationFrame(G),G=0},U),J=function(t){var e=D(t),r={};return e.tick=function(t){e.ended=!1,r.start||(r.start=t),r.current=Math.min(Math.max(r.last+t-r.start,0),e.duration),q(e,r.current);var n=e.settings;n.begin&&r.current>=n.delay&&(n.begin(e),n.begin=void 0),r.current>=e.duration&&(n.loop?(r.start=t,"alternate"===n.direction&&S(e,!0),c.number(n.loop)&&n.loop--):(e.ended=!0,e.pause(),n.complete&&n.complete(e)),r.last=0)},e.seek=function(t){q(e,t/100*e.duration)},e.pause=function(){X(e);var t=z.indexOf(e);-1<t&&z.splice(t,1)},e.play=function(t){e.pause(),t&&(e=g(D(g(t,e.settings)),e)),r.start=0,r.last=e.ended?0:e.currentTime;var n=e.settings;"reverse"===n.direction&&S(e),"alternate"!==n.direction||n.loop||(n.loop=1),V(e),z.push(e),G||H()},e.restart=function(){e.reversed&&S(e),e.pause(),e.seek(0),e.play()},e.settings.autoplay&&e.play(),e},K=function(t){for(var n=s(c.array(t)?t.map(f):f(t)),e=z.length-1;0<=e;e--)for(var r=z[e],a=r.tweens,i=a.length-1;0<=i;i--)for(var o=a[i].animatables,u=o.length-1;0<=u;u--)m(n,o[u].target)&&(o.splice(u,1),o.length||a.splice(i,1),a.length||r.pause())},U,W,_,tt,nt;return J.version=t,J.speed=1,J.list=z,J.remove=K,J.easings=u,J.getValue=P,J.path=Y,J.random=n,J})?r.apply(n,a):r)||(t.exports=i)}]);